// Snap.svg 0.4.1
//
// Copyright (c) 2013 – 2015 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// build: 2015-04-13

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ┌────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.4.2 - JavaScript Events Library                      │ \\
// ├────────────────────────────────────────────────────────────┤ \\
// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\
// └────────────────────────────────────────────────────────────┘ \\

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2013 - 2015 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

define("app/resourceManager",["require"],function(e){var t;return t=function(e){var t;this.m_shapes=[],this.m_movieClips=[],this.m_bitmaps=[],this.m_text=[],this.m_data=e;for(var n=0;n<this.m_data.DOMDocument.Shape.length;n++){t=this.m_data.DOMDocument.Shape[n].charid;var r=this.m_data.DOMDocument.Shape[n];this.m_shapes[t]=r}for(var i=0;i<this.m_data.DOMDocument.Bitmaps.length;i++){t=this.m_data.DOMDocument.Bitmaps[i].charid;var s=this.m_data.DOMDocument.Bitmaps[i];this.m_bitmaps[t]=s}for(var o=0;o<this.m_data.DOMDocument.Text.length;o++){t=this.m_data.DOMDocument.Text[o].charid;var u=this.m_data.DOMDocument.Text[o];this.m_text[t]=u}if(this.m_data.DOMDocument.Timeline!==undefined)for(var a=0;a<this.m_data.DOMDocument.Timeline.length-1;a++){t=this.m_data.DOMDocument.Timeline[a].charid;var f=this.m_data.DOMDocument.Timeline[a];this.m_movieClips[t]=f}console.log(this.m_data.DOMDocument)},t.prototype.getShape=function(e){return this.m_shapes[e]},t.prototype.getMovieClip=function(e){return this.m_movieClips[e]},t.prototype.getBitmap=function(e){return this.m_bitmaps[e]},t.prototype.getText=function(e){return this.m_text[e]},t}),define("app/commands",["require"],function(e){var t={};return e(["app/shape","app/bitmap","app/text","app/movieclip","app/garbagePool"],function(e,n,r,i,s){function o(e,t){var n=t.maskElement,r=e.getChildById(t.id);n.clear(),clone=r.el.clone(),clone.attr({visibility:"visible"}),n.append(clone)}t.PlaceObjectCommand=function(e,t,n,r,i){this.m_charID=e,this.m_objectID=t,this.m_placeAfter=n,this.m_transform=r,this.m_bounds=i},t.PlaceObjectCommand.prototype.execute=function(t,s){var o=s.getShape(this.m_charID),u=s.getBitmap(this.m_charID),a=s.getText(this.m_charID),f,l,c,h,p;o!==null&&o!==undefined?(l=new e(t,s,this.m_charID,this.m_objectID,this.m_placeAfter,this.m_transform),t.insertAtIndex(l,this.m_placeAfter)):u!==null&&u!==undefined?(c=new n(t,s,this.m_charID,this.m_objectID,this.m_placeAfter,this.m_transform),t.insertAtIndex(c,this.m_placeAfter)):a!==null&&a!==undefined?(f=new r(t,s,this.m_charID,this.m_objectID,this.m_placeAfter,this.m_transform,this.m_bounds),t.insertAtIndex(f,this.m_placeAfter)):(h=s.getMovieClip(this.m_charID),h&&(p=new i(t,h,s,this.m_objectID,this.m_placeAfter,this.m_transform),t.insertAtIndex(p,this.m_placeAfter),p.play(s)))},t.MoveObjectCommand=function(e,t){this.m_objectID=e,this.m_transform=t},t.MoveObjectCommand.prototype.execute=function(e,t){var n,r,i;n=this.m_transform,r=n.split(","),i=new Snap.Matrix(r[0],r[1],r[2],r[3],r[4],r[5]),child=e.getChildById(this.m_objectID),child.el.transform(i)},t.UpdateObjectCommand=function(e,t){this.m_objectID=e,this.m_placeAfter=t},t.UpdateObjectCommand.prototype.execute=function(e,t){},t.RemoveObjectCommand=function(e){this.m_objectID=e},t.RemoveObjectCommand.prototype.execute=function(e,t){var n;n=e.getChildById(this.m_objectID),n.el.remove(),e.removeChildById(this.m_objectID)},t.UpdateVisibilityCommand=function(e,t){this.m_objectID=e,this.m_visibility=t},t.UpdateVisibilityCommand.prototype.execute=function(e,t){var n,r;n=e.getChildById(this.m_objectID),r=this.m_visibility=="true"?"visible":"hidden",n.el.attr({visibility:r})},t.UpdateMaskCommand=function(e,t){this.m_objectID=e,this.m_maskTill=t},t.UpdateMaskCommand.prototype.execute=function(e,t){var n,r,i,s;maskContent=e.getChildById(this.m_objectID),maskContent.isMask=!0,maskContent.maskTill=this.m_maskTill,r=e.el.mask(),r.attr("mask-type","alpha"),clone=maskContent.el.clone(),clone.attr({visibility:"visible"}),i=r.toDefs(),i.append(clone),maskContent.maskElement=i,maskContent.el.attr({visibility:"hidden"})},t.ApplyMaskCommand=function(){},t.ApplyMaskCommand.prototype.execute=function(e,t){var n,r=!1,i=null,u=null,a=null,f;for(n=0;n<e.children.length;n+=1)child=e.children[n],child.isMask?(o(e,child),r=!0,i=child,u=child.maskElement,a=child.maskTill,f=e.el.g(),f.attr({"class":"maskGroup"}),child.el.after(f),f.attr({mask:u}),s.addEmpty(f),s.addRef(u,[f]),child.id==child.maskTill&&(r=!1)):r&&(f.prepend(child.el),child.isMasked=!0,child.mask=i.id,child.id==a&&(r=!1,i=null,a=null))},t.UpdateColorTransformCommand=function(e,t){this.m_objectID=e,this.m_colorMatrix=t},t.UpdateColorTransformCommand.prototype.execute=function(e,t){var n,r;n=e.getChildById(this.m_objectID),r=this.m_colorMatrix.split(",",7),n.el.attr({opacity:parseFloat(r[6])})}}),t}),define("app/garbagePool",["require"],function(e){var t;return t=function(){this.EMPTY_POOL=[],this.REF_POOL=[]},t.prototype.addEmpty=function(e){this.EMPTY_POOL.push(e)},t.prototype.addRef=function(e,t){var n,r;for(n=0;n<this.REF_POOL.length;n+=1)if(this.REF_POOL[n].el.id==e.id){for(r=0;r<t.length;r+=1)this.REF_POOL[n].refs.push(t[r]);return}this.REF_POOL.push({el:e,refs:t})},t.prototype.purge=function(){this.purgeEmptyPool(),this.purgeRefPool()},t.prototype.purgeEmptyPool=function(){var e,t;for(e=this.EMPTY_POOL.length-1;e>-1;e-=1)t=this.EMPTY_POOL[e],t.children().length===0&&(t.remove(),this.EMPTY_POOL.splice(e,1))},t.prototype.purgeRefPool=function(){var e,t,n,r;for(e=this.REF_POOL.length-1;e>-1;e-=1){r=this.REF_POOL[e],n=0;for(t=0;t<r.refs.length;t+=1)r.refs[t].removed&&(n+=1),n==r.refs.length&&(r.el.remove(),this.REF_POOL.splice(e,1))}},new t}),define("app/movieclip",["require","app/commands","app/garbagePool"],function(e){var t,n=e("app/commands"),r=e("app/garbagePool");return t=function(e,t,n,r,i,s){var o,u,a,f,l,c=e.type=="svg"?e:e.el;r&&(this.id=r),this.el=c.g(),this.el.attr({"class":"movieclip",token:this.id}),this.transform=s,this.m_timeline=t,this.m_currentFrameNo=0,this.m_frameCount=this.m_timeline.Frame.length,this.children=[],this.isMask=!1,this.isMasked=!1,this.mask=null,this.maskElement=null,this.maskTill=null,this.loops=!0,this.transform!==undefined&&(a=this.transform,f=a.split(","),u=new Snap.Matrix(f[0],f[1],f[2],f[3],f[4],f[5]),this.el.transform(u)),i&&parseInt(i)!==0?(afterMC=e.getChildById(parseInt(i)),afterMC.el.before(this.el)):c.add(this.el)},t.prototype.getChildById=function(e){var t;for(t=0;t<this.children.length;t+=1)if(this.children[t].id==e)return this.children[t];return!1},t.prototype.getChildIndexById=function(e){var t;for(t=0;t<this.children.length;t+=1)if(this.children[t].id==e)return t;return!1},t.prototype.removeChildById=function(e){var t;for(t=0;t<this.children.length;t+=1)if(this.children[t].id==e){this.children.splice(t,1);return}},t.prototype.swapChildIndex=function(e,t){var n,r;for(n=0;n<this.children.length;n+=1)if(this.children[n].id==e){r=this.children.splice(n,1);break}for(n=0;n<this.children.length;n+=1)if(this.children[n].id==t){this.children.splice(n+1,0,r[0]);break}},t.prototype.insertAtIndex=function(e,t){var n;parseInt(t)===0&&this.children.unshift(e);for(n=0;n<this.children.length;n+=1)if(this.children[n].id==t){this.children.splice(n+1,0,e);break}},t.prototype.containsMask=function(){var e;for(e=0;e<this.children.length;e+=1)if(this.children[e].isMask)return!0;return!1},t.prototype.loop=function(e){var t,r,i,s,o,u,a;this.m_currentFrameNo=0,t=this.m_timeline.Frame[this.m_currentFrameNo];if(!t)return;r=t.Command;for(s=0;s<this.children.length;s+=1){o=!1,child=this.children[s];for(c=0;c<r.length;++c){cmdData=r[c],a=cmdData.cmdType;if(a=="Place"&&parseInt(child.id)==parseInt(cmdData.objectId)){o=!0;break}}o===!1&&(command=new n.RemoveObjectCommand(child.id),e.push(command))}},t.prototype.play=function(e){var t=[],i,s,o,u,a,f,l,c;for(s=0;s<this.children.length;s+=1)this.children[s].play&&this.children[s].play(e);if(this.m_currentFrameNo==this.m_frameCount){if(!this.loops)return;this.loop(t)}i=this.m_timeline.Frame[this.m_currentFrameNo];if(!i)return;a=i.Command;for(o=0;o<a.length;o+=1){l=a[o],c=l.cmdType,f=null;switch(c){case"Place":u=this.getChildById(l.objectId),u?(f=new n.MoveObjectCommand(l.objectId,l.transformMatrix),t.push(f),f=new n.UpdateObjectCommand(l.objectId,l.placeAfter),t.push(f)):(f=new n.PlaceObjectCommand(l.charid,l.objectId,l.placeAfter,l.transformMatrix,l.bounds),t.push(f));break;case"Move":f=new n.MoveObjectCommand(l.objectId,l.transformMatrix),t.push(f);break;case"Remove":f=new n.RemoveObjectCommand(l.objectId),t.push(f);break;case"UpdateZOrder":f=new n.UpdateObjectCommand(l.objectId,l.placeAfter),t.push(f);break;case"UpdateVisibility":f=new n.UpdateVisibilityCommand(l.objectId,l.visibility),t.push(f);break;case"UpdateColorTransform":f=new n.UpdateColorTransformCommand(l.objectId,l.colorMatrix),t.push(f);break;case"UpdateMask":f=new n.UpdateMaskCommand(l.objectId,l.maskTill),t.push(f)}}this.containsMask&&(f=new n.ApplyMaskCommand,t.push(f));for(s=0;s<t.length;s++)t[s]!==undefined&&t[s].execute(this,e);this.m_currentFrameNo++,r.purge()},t}),function(e){var t="0.4.2",n="hasOwnProperty",r=/[\.\/]/,i=/\s*,\s*/,s="*",o=function(){},u=function(e,t){return e-t},a,f,l={n:{}},c=function(){for(var e=0,t=this.length;e<t;e++)if(typeof this[e]!="undefined")return this[e]},h=function(){var e=this.length;while(--e)if(typeof this[e]!="undefined")return this[e]},p=function(e,t){e=String(e);var n=l,r=f,i=Array.prototype.slice.call(arguments,2),s=p.listeners(e),o=0,d=!1,v,m=[],g={},y=[],b=a,w=[];y.firstDefined=c,y.lastDefined=h,a=e,f=0;for(var E=0,S=s.length;E<S;E++)"zIndex"in s[E]&&(m.push(s[E].zIndex),s[E].zIndex<0&&(g[s[E].zIndex]=s[E]));m.sort(u);while(m[o]<0){v=g[m[o++]],y.push(v.apply(t,i));if(f)return f=r,y}for(E=0;E<S;E++){v=s[E];if("zIndex"in v)if(v.zIndex==m[o]){y.push(v.apply(t,i));if(f)break;do{o++,v=g[m[o]],v&&y.push(v.apply(t,i));if(f)break}while(v)}else g[v.zIndex]=v;else{y.push(v.apply(t,i));if(f)break}}return f=r,a=b,y};p._events=l,p.listeners=function(e){var t=e.split(r),n=l,i,o,u,a,f,c,h,p,d=[n],v=[];for(a=0,f=t.length;a<f;a++){p=[];for(c=0,h=d.length;c<h;c++){n=d[c].n,o=[n[t[a]],n[s]],u=2;while(u--)i=o[u],i&&(p.push(i),v=v.concat(i.f||[]))}d=p}return v},p.on=function(e,t){e=String(e);if(typeof t!="function")return function(){};var n=e.split(i);for(var s=0,o=n.length;s<o;s++)(function(e){var n=e.split(r),i=l,s;for(var o=0,u=n.length;o<u;o++)i=i.n,i=i.hasOwnProperty(n[o])&&i[n[o]]||(i[n[o]]={n:{}});i.f=i.f||[];for(o=0,u=i.f.length;o<u;o++)if(i.f[o]==t){s=!0;break}!s&&i.f.push(t)})(n[s]);return function(e){+e==+e&&(t.zIndex=+e)}},p.f=function(e){var t=[].slice.call(arguments,1);return function(){p.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},p.stop=function(){f=1},p.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(a):a},p.nts=function(){return a.split(r)},p.off=p.unbind=function(e,t){if(!e){p._events=l={n:{}};return}var o=e.split(i);if(o.length>1){for(var u=0,a=o.length;u<a;u++)p.off(o[u],t);return}o=e.split(r);var f,c,h,u,a,d,v,m=[l];for(u=0,a=o.length;u<a;u++)for(d=0;d<m.length;d+=h.length-2){h=[d,1],f=m[d].n;if(o[u]!=s)f[o[u]]&&h.push(f[o[u]]);else for(c in f)f[n](c)&&h.push(f[c]);m.splice.apply(m,h)}for(u=0,a=m.length;u<a;u++){f=m[u];while(f.n){if(t){if(f.f){for(d=0,v=f.f.length;d<v;d++)if(f.f[d]==t){f.f.splice(d,1);break}!f.f.length&&delete f.f}for(c in f.n)if(f.n[n](c)&&f.n[c].f){var g=f.n[c].f;for(d=0,v=g.length;d<v;d++)if(g[d]==t){g.splice(d,1);break}!g.length&&delete f.n[c].f}}else{delete f.f;for(c in f.n)f.n[n](c)&&f.n[c].f&&delete f.n[c].f}f=f.n}}},p.once=function(e,t){var n=function(){return p.unbind(e,n),t.apply(this,arguments)};return p.on(e,n)},p.version=t,p.toString=function(){return"You are running Eve "+t},typeof module!="undefined"&&module.exports?module.exports=p:typeof define=="function"&&define.amd?define("eve",[],function(){return p}):e.eve=p}(this),function(e,t){if(typeof define=="function"&&define.amd)define("snap",["eve"],function(n){return t(e,n)});else if(typeof exports!="undefined"){var n=require("eve");module.exports=t(e,n)}else t(e,e.eve)}(window||this,function(e,t){var n=function(t){var n={},r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},i=Array.isArray||function(e){return e instanceof Array||Object.prototype.toString.call(e)=="[object Array]"},s=0,o="M"+(+(new Date)).toString(36),u=function(){return o+(s++).toString(36)},a=function(e,t,n,r){if(i(e)){res=[];for(var s=0,o=e.length;s<o;s++)res[s]=a(e[s],t,n[s],r);return res}var u=(n-e)/(r-t);return function(n){return e+u*(n-t)}},f=Date.now||function(){return+(new Date)},l=function(e){var t=this;if(e==null)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},c=function(e){var t=this;if(e==null)return t.spd;t.spd=e},h=function(e){var t=this;if(e==null)return t.dur;t.s=t.s*e/t.dur,t.dur=e},p=function(){var e=this;delete n[e.id],e.update(),t("mina.stop."+e.id,e)},d=function(){var e=this;if(e.pdif)return;delete n[e.id],e.update(),e.pdif=e.get()-e.b},v=function(){var e=this;if(!e.pdif)return;e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e},m=function(){var e=this,t;if(i(e.start)){t=[];for(var n=0,r=e.start.length;n<r;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},g=function(){var e=0;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],o=s.get(),u;e++,s.s=(o-s.b)/(s.dur/s.spd),s.s>=1&&(delete n[i],s.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(s)),s.update()}e&&r(g)},y=function(e,t,i,s,o,a,f){var b={id:u(),start:e,end:t,b:i,s:0,dur:s-i,spd:1,get:o,set:a,easing:f||y.linear,status:l,speed:c,duration:h,stop:p,pause:d,resume:v,update:m};n[b.id]=b;var w=0,E;for(E in n)if(n.hasOwnProperty(E)){w++;if(w==2)break}return w==1&&r(g),b};return y.time=f,y.getById=function(e){return n[e]||null},y.linear=function(e){return e},y.easeout=function(e){return Math.pow(e,1.7)},y.easein=function(e){return Math.pow(e,.48)},y.easeinout=function(e){if(e==1)return 1;if(e==0)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),r=n-t,i=Math.pow(Math.abs(r),1/3)*(r<0?-1:1),s=-n-t,o=Math.pow(Math.abs(s),1/3)*(s<0?-1:1),u=i+o+.5;return(1-u)*3*u*u+u*u*u},y.backin=function(e){if(e==1)return 1;var t=1.70158;return e*e*((t+1)*e-t)},y.backout=function(e){if(e==0)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},y.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*2*Math.PI/.3)+1},y.bounce=function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r},e.mina=y,y}(typeof t=="undefined"?function(){}:t),r=function(e){function n(e,t){if(e){if(e.nodeType)return ht(e);if(I(e,"array")&&n.set)return n.set.apply(n,e);if(e instanceof at)return e;if(t==null)return e=r.doc.querySelector(String(e)),ht(e)}return e=e==null?"100%":e,t=t==null?"100%":t,new ct(e,t)}function j(e,t){if(t){e=="#text"&&(e=r.doc.createTextNode(t.text||t["#text"]||"")),e=="#comment"&&(e=r.doc.createComment(t.text||t["#text"]||"")),typeof e=="string"&&(e=j(e));if(typeof t=="string")return e.nodeType==1?t.substring(0,6)=="xlink:"?e.getAttributeNS(D,t.substring(6)):t.substring(0,4)=="xml:"?e.getAttributeNS(P,t.substring(4)):e.getAttribute(t):t=="text"?e.nodeValue:null;if(e.nodeType==1){for(var n in t)if(t[i](n)){var o=s(t[n]);o?n.substring(0,6)=="xlink:"?e.setAttributeNS(D,n.substring(6),o):n.substring(0,4)=="xml:"?e.setAttributeNS(P,n.substring(4),o):e.setAttribute(n,o):e.removeAttribute(n)}}else"text"in t&&(e.nodeValue=t.text)}else e=r.doc.createElementNS(P,e);return e}function F(e){var t=e.attributes,n,r={};for(var i=0;i<t.length;i++)t[i].namespaceURI==D?n="xlink:":n="",n+=t[i].name,r[n]=t[i].textContent;return r}function I(e,t){return t=s.prototype.toLowerCase.call(t),t=="finite"?isFinite(e):t=="array"&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||y.call(e).slice(8,-1).toLowerCase()==t}function q(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[i](n)&&(t[n]=q(e[n]));return t}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function U(e,t,n){function r(){var s=Array.prototype.slice.call(arguments,0),o=s.join("␀"),u=r.cache=r.cache||{},a=r.count=r.count||[];return u[i](o)?(R(a,o),n?n(u[o]):u[o]):(a.length>=1e3&&delete u[a.shift()],a.push(o),u[o]=e.apply(t,s),n?n(u[o]):u[o])}return r}function z(e,t,n,r,i,s){if(i==null){var o=e-n,u=t-r;return!o&&!u?0:(180+a.atan2(-u,-o)*180/p+360)%360}return z(e,t,i,s)-z(n,r,i,s)}function W(e){return e%360*p/180}function X(e){return e*180/p%360}function V(){return this.x+m+this.y}function $(){return this.x+m+this.y+m+this.width+" × "+this.height}function tt(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,r){return r=r.split(/\s*,\s*|\s+/),n=="rotate"&&r.length==1&&r.push(0,0),n=="scale"&&(r.length>2?r=r.slice(0,2):r.length==2&&r.push(0,0),r.length==1&&r.push(r[0],0,0)),n=="skewX"?t.push(["m",1,0,a.tan(W(r[0])),1,0,0]):n=="skewY"?t.push(["m",1,a.tan(W(r[0])),0,1,0,0]):t.push([n.charAt(0)].concat(r)),e}),t}function nt(e,t){var r=et(e),i=new n.Matrix;if(r)for(var o=0,u=r.length;o<u;o++){var a=r[o],f=a.length,l=s(a[0]).toLowerCase(),c=a[0]!=l,h=c?i.invert():0,p,d,v,m,g;l=="t"&&f==2?i.translate(a[1],0):l=="t"&&f==3?c?(p=h.x(0,0),d=h.y(0,0),v=h.x(a[1],a[2]),m=h.y(a[1],a[2]),i.translate(v-p,m-d)):i.translate(a[1],a[2]):l=="r"?f==2?(g=g||t,i.rotate(a[1],g.x+g.width/2,g.y+g.height/2)):f==4&&(c?(v=h.x(a[2],a[3]),m=h.y(a[2],a[3]),i.rotate(a[1],v,m)):i.rotate(a[1],a[2],a[3])):l=="s"?f==2||f==3?(g=g||t,i.scale(a[1],a[f-1],g.x+g.width/2,g.y+g.height/2)):f==4?c?(v=h.x(a[2],a[3]),m=h.y(a[2],a[3]),i.scale(a[1],a[1],v,m)):i.scale(a[1],a[1],a[2],a[3]):f==5&&(c?(v=h.x(a[3],a[4]),m=h.y(a[3],a[4]),i.scale(a[1],a[2],v,m)):i.scale(a[1],a[2],a[3],a[4])):l=="m"&&f==7&&i.add(a[1],a[2],a[3],a[4],a[5],a[6])}return i}function it(e){var t=e.node.ownerSVGElement&&ht(e.node.ownerSVGElement)||e.node.parentNode&&ht(e.node.parentNode)||n.select("svg")||n(0,0),r=t.select("defs"),i=r==null?!1:r.node;return i||(i=lt("defs",t.node).node),i}function st(e){return e.node.ownerSVGElement&&ht(e.node.ownerSVGElement)||n.select("svg")}function ot(e,t,n){function o(e){if(e==null)return v;if(e==+e)return e;j(s,{width:e});try{return s.getBBox().width}catch(t){return 0}}function u(e){if(e==null)return v;if(e==+e)return e;j(s,{height:e});try{return s.getBBox().height}catch(t){return 0}}function a(r,s){t==null?i[r]=s(e.attr(r)||0):r==t&&(i=s(n==null?e.attr(r)||0:n))}var r=st(e).node,i={},s=r.querySelector(".svg---mgr");s||(s=j("rect"),j(s,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),r.appendChild(s));switch(e.type){case"rect":a("rx",o),a("ry",u);case"image":a("width",o),a("height",u);case"text":a("x",o),a("y",u);break;case"circle":a("cx",o),a("cy",u),a("r",o);break;case"ellipse":a("cx",o),a("cy",u),a("rx",o),a("ry",u);break;case"line":a("x1",o),a("x2",o),a("y1",u),a("y2",u);break;case"marker":a("refX",o),a("markerWidth",o),a("refY",u),a("markerHeight",u);break;case"radialGradient":a("fx",o),a("fy",u);break;case"tspan":a("dx",o),a("dy",u);break;default:a(t,o)}return r.removeChild(s),i}function ut(e){I(e,"array")||(e=Array.prototype.slice.call(arguments,0));var t=0,n=0,r=this.node;while(this[t])delete this[t++];for(t=0;t<e.length;t++)e[t].type=="set"?e[t].forEach(function(e){r.appendChild(e.node)}):r.appendChild(e[t].node);var i=r.childNodes;for(t=0;t<i.length;t++)this[n++]=ht(i[t]);return this}function at(e){if(e.snap in H)return H[e.snap];var t;try{t=e.ownerSVGElement}catch(n){}this.node=e,t&&(this.paper=new ct(t)),this.type=e.tagName||e.nodeName;var r=this.id=_(this);this.anims={},this._={transform:[]},e.snap=r,H[r]=this,this.type=="g"&&(this.add=ut);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var s in ct.prototype)ct.prototype[i](s)&&(this[s]=ct.prototype[s])}function ft(e){this.node=e}function lt(e,t){var n=j(e);t.appendChild(n);var r=ht(n);return r}function ct(e,t){var n,s,o,u=ct.prototype;if(e&&e.tagName=="svg"){if(e.snap in H)return H[e.snap];var a=e.ownerDocument;n=new at(e),s=e.getElementsByTagName("desc")[0],o=e.getElementsByTagName("defs")[0],s||(s=j("desc"),s.appendChild(a.createTextNode("Created with Snap")),n.node.appendChild(s)),o||(o=j("defs"),n.node.appendChild(o)),n.defs=o;for(var f in u)u[i](f)&&(n[f]=u[f]);n.paper=n.root=n}else n=lt("svg",r.doc.body),j(n.node,{height:t,version:1.1,width:e,xmlns:P});return n}function ht(e){return e?e instanceof at||e instanceof ft?e:e.tagName&&e.tagName.toLowerCase()=="svg"?new ct(e):e.tagName&&e.tagName.toLowerCase()=="object"&&e.type=="image/svg+xml"?new ct(e.contentDocument.getElementsByTagName("svg")[0]):new at(e):e}function pt(e,t){for(var n=0,r=e.length;n<r;n++){var i={type:e[n].type,attr:e[n].attr()},s=e[n].children();t.push(i),s.length&&pt(s,i.childNodes=[])}}n.version="0.4.0",n.toString=function(){return"Snap v"+this.version},n._={};var r={win:e.window,doc:e.window.document};n._.glob=r;var i="hasOwnProperty",s=String,o=parseFloat,u=parseInt,a=Math,f=a.max,l=a.min,c=a.abs,h=a.pow,p=a.PI,d=a.round,v="",m=" ",y=Object.prototype.toString,b=/^url\(['"]?([^\)]+?)['"]?\)$/i,w=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,E=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,S=/^url\(#?([^)]+)\)$/,x=n._.separator=/[,\s]+/,T=/[\s]/g,N=/[\s]*,[\s]*/,C={hs:1,rg:1},k=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,L=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,A=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,O=0,M="S"+(+(new Date)).toString(36),_=function(e){return(e&&e.type?e.type:v)+M+(O++).toString(36)},D="http://www.w3.org/1999/xlink",P="http://www.w3.org/2000/svg",H={},B=n.url=function(e){return"url('#"+e+"')"};n._.$=j,n._.id=_,n.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,s){t=t||r,i&&(t in i&&(i=i[t]),typeof i=="function"&&s&&(i=i()))}),i=(i==null||i==r?e:i)+"",i};return function(t,r){return s(t).replace(e,function(e,t){return n(e,t,r)})}}(),n._.clone=q,n._.cacher=U,n.rad=W,n.deg=X,n.sin=function(e){return a.sin(n.rad(e))},n.tan=function(e){return a.tan(n.rad(e))},n.cos=function(e){return a.cos(n.rad(e))},n.asin=function(e){return n.deg(a.asin(e))},n.acos=function(e){return n.deg(a.acos(e))},n.atan=function(e){return n.deg(a.atan(e))},n.atan2=function(e){return n.deg(a.atan2(e))},n.angle=z,n.len=function(e,t,r,i){return Math.sqrt(n.len2(e,t,r,i))},n.len2=function(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)},n.closestPoint=function(e,t,n){function r(e){var r=e.x-t,i=e.y-n;return r*r+i*i}var i=e.node,s=i.getTotalLength(),o=s/i.pathSegList.numberOfItems*.125,u,a,f=Infinity;for(var l,c=0,h;c<=s;c+=o)(h=r(l=i.getPointAtLength(c)))<f&&(u=l,a=c,f=h);o*=.5;while(o>.5){var p,d,v,m,g,y;(v=a-o)>=0&&(g=r(p=i.getPointAtLength(v)))<f?(u=p,a=v,f=g):(m=a+o)<=s&&(y=r(d=i.getPointAtLength(m)))<f?(u=d,a=m,f=y):o*=.5}return u={x:u.x,y:u.y,length:a,distance:Math.sqrt(f)},u},n.is=I,n.snapTo=function(e,t,n){n=I(n,"finite")?n:10;if(I(e,"array")){var r=e.length;while(r--)if(c(e[r]-t)<=n)return e[r]}else{e=+e;var i=t%e;if(i<n)return t-i;if(i>e-n)return t-i+e}return t},n.getRGB=U(function(e){if(!e||!!((e=s(e)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:G};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:G};!C[i](e.toLowerCase().substring(0,2))&&e.charAt()!="#"&&(e=J(e));if(!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:G};var t,r,c,h,p,d,v,m=e.match(w);return m?(m[2]&&(h=u(m[2].substring(5),16),c=u(m[2].substring(3,5),16),r=u(m[2].substring(1,3),16)),m[3]&&(h=u((d=m[3].charAt(3))+d,16),c=u((d=m[3].charAt(2))+d,16),r=u((d=m[3].charAt(1))+d,16)),m[4]&&(v=m[4].split(N),r=o(v[0]),v[0].slice(-1)=="%"&&(r*=2.55),c=o(v[1]),v[1].slice(-1)=="%"&&(c*=2.55),h=o(v[2]),v[2].slice(-1)=="%"&&(h*=2.55),m[1].toLowerCase().slice(0,4)=="rgba"&&(p=o(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100)),m[5]?(v=m[5].split(N),r=o(v[0]),v[0].slice(-1)=="%"&&(r/=100),c=o(v[1]),v[1].slice(-1)=="%"&&(c/=100),h=o(v[2]),v[2].slice(-1)=="%"&&(h/=100),(v[0].slice(-3)=="deg"||v[0].slice(-1)=="°")&&(r/=360),m[1].toLowerCase().slice(0,4)=="hsba"&&(p=o(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100),n.hsb2rgb(r,c,h,p)):m[6]?(v=m[6].split(N),r=o(v[0]),v[0].slice(-1)=="%"&&(r/=100),c=o(v[1]),v[1].slice(-1)=="%"&&(c/=100),h=o(v[2]),v[2].slice(-1)=="%"&&(h/=100),(v[0].slice(-3)=="deg"||v[0].slice(-1)=="°")&&(r/=360),m[1].toLowerCase().slice(0,4)=="hsla"&&(p=o(v[3])),v[3]&&v[3].slice(-1)=="%"&&(p/=100),n.hsl2rgb(r,c,h,p)):(r=l(a.round(r),255),c=l(a.round(c),255),h=l(a.round(h),255),p=l(f(p,0),1),m={r:r,g:c,b:h,toString:G},m.hex="#"+(16777216|h|c<<8|r<<16).toString(16).slice(1),m.opacity=I(p,"finite")?p:1,m)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:G}},n),n.hsb=U(function(e,t,r){return n.hsb2rgb(e,t,r).hex}),n.hsl=U(function(e,t,r){return n.hsl2rgb(e,t,r).hex}),n.rgb=U(function(e,t,n,r){if(I(r,"finite")){var i=a.round;return"rgba("+[i(e),i(t),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var J=function(e){var t=r.doc.getElementsByTagName("head")[0]||r.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return J=U(function(e){if(e.toLowerCase()=="red")return n;t.style.color=n,t.style.color=e;var i=r.doc.defaultView.getComputedStyle(t,v).getPropertyValue("color");return i==n?null:i}),J(e)},K=function(){return"hsb("+[this.h,this.s,this.b]+")"},Q=function(){return"hsl("+[this.h,this.s,this.l]+")"},G=function(){return this.opacity==1||this.opacity==null?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},Y=function(e,t,r){t==null&&I(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,t=e.g,e=e.r);if(t==null&&I(e,string)){var i=n.getRGB(e);e=i.r,t=i.g,r=i.b}if(e>1||t>1||r>1)e/=255,t/=255,r/=255;return[e,t,r]},Z=function(e,t,r,i){e=a.round(e*255),t=a.round(t*255),r=a.round(r*255);var s={r:e,g:t,b:r,opacity:I(i,"finite")?i:1,hex:n.rgb(e,t,r),toString:G};return I(i,"finite")&&(s.opacity=i),s};n.color=function(e){var t;return I(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):I(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(I(e,"string")&&(e=n.getRGB(e)),I(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=G,e},n.hsb2rgb=function(e,t,n,r){I(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,r=e.o,e=e.h),e*=360;var i,s,o,u,a;return e=e%360/60,a=n*t,u=a*(1-c(e%2-1)),i=s=o=n-a,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],Z(i,s,o,r)},n.hsl2rgb=function(e,t,n,r){I(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h);if(e>1||t>1||n>1)e/=360,t/=100,n/=100;e*=360;var i,s,o,u,a;return e=e%360/60,a=2*t*(n<.5?n:1-n),u=a*(1-c(e%2-1)),i=s=o=n-a/2,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],Z(i,s,o,r)},n.rgb2hsb=function(e,t,n){n=Y(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o;return s=f(e,t,n),o=s-l(e,t,n),r=o==0?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,r=(r+360)%6*60/360,i=o==0?0:o/s,{h:r,s:i,b:s,toString:K}},n.rgb2hsl=function(e,t,n){n=Y(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o,u,a;return o=f(e,t,n),u=l(e,t,n),a=o-u,r=a==0?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=(o+u)/2,i=a==0?0:s<.5?a/(2*s):a/(2-2*s),{h:r,s:i,l:s,toString:Q}},n.parsePathString=function(e){if(!e)return null;var t=n.path(e);if(t.arr)return n.path.clone(t.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return I(e,"array")&&I(e[0],"array")&&(i=n.path.clone(e)),i.length||s(e).replace(k,function(e,t,n){var s=[],o=t.toLowerCase();n.replace(A,function(e,t){t&&s.push(+t)}),o=="m"&&s.length>2&&(i.push([t].concat(s.splice(0,2))),o="l",t=t=="m"?"l":"L"),o=="o"&&s.length==1&&i.push([t,s[0]]);if(o=="r")i.push([t].concat(s));else while(s.length>=r[o]){i.push([t].concat(s.splice(0,r[o])));if(!r[o])break}}),i.toString=n.path.toString,t.arr=n.path.clone(i),i};var et=n.parseTransformString=function(e){if(!e)return null;var t={r:3,s:4,t:2,m:6},r=[];return I(e,"array")&&I(e[0],"array")&&(r=n.path.clone(e)),r.length||s(e).replace(L,function(e,t,n){var i=[],s=t.toLowerCase();n.replace(A,function(e,t){t&&i.push(+t)}),r.push([t].concat(i))}),r.toString=n.path.toString,r};n._.svgTransform2string=tt,n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=nt,n._unit2px=ot;var rt=r.doc.contains||r.doc.compareDocumentPosition?function(e,t){var n=e.nodeType==9?e.documentElement:e,r=t&&t.parentNode;return e==r||!!r&&r.nodeType==1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t){t=t.parentNode;if(t==e)return!0}return!1};n._.getSomeDefs=it,n._.getSomeSVG=st,n.select=function(e){return e=s(e).replace(/([^\\]):/g,"$1\\:"),ht(r.doc.querySelector(e))},n.selectAll=function(e){var t=r.doc.querySelectorAll(e),i=(n.set||Array)();for(var s=0;s<t.length;s++)i.push(ht(t[s]));return i},setInterval(function(){for(var e in H)if(H[i](e)){var t=H[e],n=t.node;(t.type!="svg"&&!n.ownerSVGElement||t.type=="svg"&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete H[e]}},1e4),at.prototype.attr=function(e,n){var r=this,s=r.node;if(!e){if(s.nodeType!=1)return{text:s.nodeValue};var o=s.attributes,u={};for(var a=0,f=o.length;a<f;a++)u[o[a].nodeName]=o[a].nodeValue;return u}if(I(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,r).firstDefined();var l={};l[e]=n,e=l}for(var c in e)e[i](c)&&t("snap.util.attr."+c,r,e[c]);return r},n.parse=function(e){var t=r.doc.createDocumentFragment(),n=!0,i=r.doc.createElement("div");e=s(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),i.innerHTML=e,e=i.getElementsByTagName("svg")[0];if(e)if(n)t=e;else while(e.firstChild)t.appendChild(e.firstChild);return new ft(t)},n.fragment=function(){var e=Array.prototype.slice.call(arguments,0),t=r.doc.createDocumentFragment();for(var i=0,s=e.length;i<s;i++){var o=e[i];o.node&&o.node.nodeType&&t.appendChild(o.node),o.nodeType&&t.appendChild(o),typeof o=="string"&&t.appendChild(n.parse(o).node)}return new ft(t)},n._.make=lt,n._.wrap=ht,ct.prototype.el=function(e,t){var n=lt(e,this.node);return t&&n.attr(t),n},at.prototype.children=function(){var e=[],t=this.node.childNodes;for(var r=0,i=t.length;r<i;r++)e[r]=n(t[r]);return e},at.prototype.toJSON=function(){var e=[];return pt([this],e),e[0]},t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return dt[i](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):j(this.node,e)});var dt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=e;var s=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),o=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});dt[i](o)?this.node.style[s]=e==null?v:e:j(this.node,r)}),function(e){}(ct.prototype),n.ajax=function(e,n,r,i){var s=new XMLHttpRequest,o=_();if(s){if(I(n,"function"))i=r,r=n,n=null;else if(I(n,"object")){var u=[];for(var a in n)n.hasOwnProperty(a)&&u.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));n=u.join("&")}return s.open(n?"POST":"GET",e,!0),n&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(t.once("snap.ajax."+o+".0",r),t.once("snap.ajax."+o+".200",r),t.once("snap.ajax."+o+".304",r)),s.onreadystatechange=function(){if(s.readyState!=4)return;t("snap.ajax."+o+"."+s.status,i,s)},s.readyState==4?s:(s.send(n),s)}},n.load=function(e,t,r){n.ajax(e,function(e){var i=n.parse(e.responseText);r?t.call(r,i):t(i)})};var vt=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,u=t.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-s,a=t.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:u,x:a}};return n.getElementByPoint=function(e,t){var n=this,i=n.canvas,s=r.doc.elementFromPoint(e,t);if(r.win.opera&&s.tagName=="svg"){var o=vt(s),u=s.createSVGRect();u.x=e-o.x,u.y=t-o.y,u.width=u.height=1;var a=s.getIntersectionList(u,null);a.length&&(s=a[a.length-1])}return s?ht(s):null},n.plugin=function(e){e(n,at,ct,r,ft)},r.win.Snap=n,n}(e||this);return r.plugin(function(r,i,s,o,u){function y(e,t){if(t==null){var n=!0;e.type=="linearGradient"||e.type=="radialGradient"?t=e.node.getAttribute("gradientTransform"):e.type=="pattern"?t=e.node.getAttribute("patternTransform"):t=e.node.getAttribute("transform");if(!t)return new r.Matrix;t=r._.svgTransform2string(t)}else r._.rgTransform.test(t)?t=l(t).replace(/\.{3}|\u2026/g,e._.transform||""):t=r._.svgTransform2string(t),f(t,"array")&&(t=r.path?r.path.toString.call(t):l(t)),e._.transform=t;var i=r._.transform2matrix(t,e.getBBox(1));if(n)return i;e.matrix=i}function b(e){function o(e,t){var n=h(e.node,t);n=n&&n.match(r),n=n&&n[2];if(!n||n.charAt()!="#")return;n=n.substring(1),n&&(s[n]=(s[n]||[]).concat(function(n){var r={};r[t]=URL(n),h(e.node,r)}))}function u(e){var t=h(e.node,"xlink:href");if(!t||t.charAt()!="#")return;t=t.substring(1),t&&(s[t]=(s[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)}))}var t=e.selectAll("*"),n,r=/^\s*url\(("|'|)(.*)\1\)\s*$/,i=[],s={};for(var a=0,f=t.length;a<f;a++){n=t[a],o(n,"fill"),o(n,"stroke"),o(n,"filter"),o(n,"mask"),o(n,"clip-path"),u(n);var l=h(n.node,"id");l&&(h(n.node,{id:n.id}),i.push({old:l,id:n.id}))}for(a=0,f=i.length;a<f;a++){var c=s[i[a].old];if(c)for(var p=0,d=c.length;p<d;p++)c[p](i[a].id)}}function w(e,t,n){return function(r){var i=r.slice(e,t);return i.length==1&&(i=i[0]),n?n(i):i}}function x(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(e)for(var i=0,s=n.length;i<s;i++)t+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){e&&(t+=">");for(i=0,s=r.length;i<s;i++)r[i].nodeType==3?t+=r[i].nodeValue:r[i].nodeType==1&&(t+=m(r[i]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}var a=i.prototype,f=r.is,l=String,c=r._unit2px,h=r._.$,p=r._.make,d=r._.getSomeDefs,v="hasOwnProperty",m=r._.wrap;a.getBBox=function(e){if(!r.Matrix||!r.path)return this.node.getBBox();var t=this,n=new r.Matrix;if(t.removed)return r._.box();while(t.type=="use"){e||(n=n.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0)));if(t.original)t=t.original;else{var i=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}}var s=t._,o=r.path.get[t.type]||r.path.get.deflt;try{return e?(s.bboxwt=o?r.path.getBBox(t.realPath=o(t)):r._.box(t.node.getBBox()),r._.box(s.bboxwt)):(t.realPath=o(t),t.matrix=t.transform().localMatrix,s.bbox=r.path.getBBox(r.path.map(t.realPath,n.add(t.matrix))),r._.box(s.bbox))}catch(u){return r._.box()}};var g=function(){return this.string};a.transform=function(e){var t=this._;if(e==null){var n=this,i=new r.Matrix(this.node.getCTM()),s=y(this),o=[s],u=new r.Matrix,a,f=s.toTransformString(),c=l(s)==l(this.matrix)?l(t.transform):f;while(n.type!="svg"&&(n=n.parent()))o.push(y(n));a=o.length;while(a--)u.add(o[a]);return{string:c,globalMatrix:i,totalMatrix:u,localMatrix:s,diffMatrix:i.clone().add(s.invert()),global:i.toTransformString(),total:u.toTransformString(),local:f,toString:g}}return e instanceof r.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):y(this,e),this.node&&(this.type=="linearGradient"||this.type=="radialGradient"?h(this.node,{gradientTransform:this.matrix}):this.type=="pattern"?h(this.node,{patternTransform:this.matrix}):h(this.node,{transform:this.matrix})),this},a.parent=function(){return m(this.node.parentNode)},a.append=a.add=function(e){if(e){if(e.type=="set"){var t=this;return e.forEach(function(e){t.add(e)}),this}e=m(e),this.node.appendChild(e.node),e.paper=this.paper}return this},a.appendTo=function(e){return e&&(e=m(e),e.append(this)),this},a.prepend=function(e){if(e){if(e.type=="set"){var t=this,n;return e.forEach(function(e){n?n.after(e):t.prepend(e),n=e}),this}e=m(e);var r=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},a.prependTo=function(e){return e=m(e),e.prepend(this),this},a.before=function(e){if(e.type=="set"){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=m(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},a.after=function(e){e=m(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},a.insertBefore=function(e){e=m(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},a.insertAfter=function(e){e=m(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},a.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},a.select=function(e){return m(this.node.querySelector(e))},a.selectAll=function(e){var t=this.node.querySelectorAll(e),n=(r.set||Array)();for(var i=0;i<t.length;i++)n.push(m(t[i]));return n},a.asPX=function(e,t){return t==null&&(t=this.attr(e)),+c(this,e,t)},a.use=function(){var e,t=this.node.id;return t||(t=this.id,h(this.node,{id:t})),this.type=="linearGradient"||this.type=="radialGradient"||this.type=="pattern"?e=p(this.type,this.node.parentNode):e=p("use",this.node.parentNode),h(e.node,{"xlink:href":"#"+t}),e.original=this,e},a.clone=function(){var e=m(this.node.cloneNode(!0));return h(e.node,"id")&&h(e.node,{id:e.id}),b(e),e.insertAfter(this),e},a.toDefs=function(){var e=d(this);return e.appendChild(this.node),this},a.pattern=a.toPattern=function(e,t,n,r){var i=p("pattern",d(this));return e==null&&(e=this.getBBox()),f(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,e=e.x),h(i.node,{x:e,y:t,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[e,t,n,r].join(" ")}),i.node.appendChild(this.node),i},a.marker=function(e,t,n,r,i,s){var o=p("marker",d(this));return e==null&&(e=this.getBBox()),f(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,i=e.refX||e.cx,s=e.refY||e.cy,e=e.x),h(o.node,{viewBox:[e,t,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:s||0,id:o.id}),o.node.appendChild(this.node),o};var E=function(e,t,r,i){typeof r=="function"&&!r.length&&(i=r,r=n.linear),this.attr=e,this.dur=t,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=E,r.animation=function(e,t,n,r){return new E(e,t,n,r)},a.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[v](n)&&function(e){t.push({anim:new E(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},r.animate=function(e,r,i,s,o,u){typeof o=="function"&&!o.length&&(u=o,o=n.linear);var a=n.time(),f=n(e,r,a,a+s,n.time,i,o);return u&&t.once("mina.finish."+f.id,u),f},a.stop=function(){var e=this.inAnim();for(var t=0,n=e.length;t<n;t++)e[t].stop();return this},a.animate=function(e,r,i,s){typeof i=="function"&&!i.length&&(s=i,i=n.linear),e instanceof E&&(s=e.callback,i=e.easing,r=e.dur,e=e.attr);var o=[],u=[],a={},c,h,p,d,m=this;for(var g in e)if(e[v](g)){m.equal?(d=m.equal(g,l(e[g])),c=d.from,h=d.to,p=d.f):(c=+m.attr(g),h=+e[g]);var y=f(c,"array")?c.length:1;a[g]=w(o.length,o.length+y,p),o=o.concat(c),u=u.concat(h)}var b=n.time(),S=n(o,u,b,b+r,n.time,function(e){var t={};for(var n in a)a[v](n)&&(t[n]=a[n](e));m.attr(t)},i);return m.anims[S.id]=S,S._attrs=e,S._callback=s,t("snap.animcreated."+m.id,S),t.once("mina.finish."+S.id,function(){delete m.anims[S.id],s&&s.call(m)}),t.once("mina.stop."+S.id,function(){delete m.anims[S.id]}),m};var S={};a.data=function(e,n){var i=S[this.id]=S[this.id]||{};if(arguments.length==0)return t("snap.data.get."+this.id,this,i,null),i;if(arguments.length==1){if(r.is(e,"object")){for(var s in e)e[v](s)&&this.data(s,e[s]);return this}return t("snap.data.get."+this.id,this,i[e],e),i[e]}return i[e]=n,t("snap.data.set."+this.id,this,n,e),this},a.removeData=function(e){return e==null?S[this.id]={}:S[this.id]&&delete S[this.id][e],this},a.outerSVG=a.toString=x(1),a.innerSVG=x(),a.toDataURL=function(){if(e&&e.btoa){var t=this.getBBox(),n=r.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}},u.prototype.select=a.select,u.prototype.selectAll=a.selectAll}),r.plugin(function(e,t,n,r,i){function f(e,t,n,r,i,o){if(t==null&&s.call(e)=="[object SVGMatrix]"){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,this.f=e.f;return}e!=null?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}var s=Object.prototype.toString,o=String,u=Math,a="";(function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=u.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,r,i,s){var o=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],a=[[e,n,i],[t,r,s],[0,0,1]],l,c,h,p;e&&e instanceof f&&(a=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]);for(l=0;l<3;l++)for(c=0;c<3;c++){p=0;for(h=0;h<3;h++)p+=u[l][h]*a[h][c];o[l][c]=p}return this.a=o[0][0],this.b=o[1][0],this.c=o[0][1],this.d=o[1][1],this.e=o[0][2],this.f=o[1][2],this},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){return this.add(1,0,0,1,e,t)},t.scale=function(e,t,n,r){return t==null&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+u.cos(t).toFixed(9),s=+u.sin(t).toFixed(9);return this.add(i,s,-s,i,n,r),this.add(1,0,0,1,-n,-r)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[o.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=u.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=u.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var s=-i[0][1],o=i[1][1];return o<0?(t.rotate=e.deg(u.acos(o)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(u.asin(s)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:a)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:a)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:a))}})(f.prototype),e.Matrix=f,e.matrix=function(e,t,n,r,i,s){return new f(e,t,n,r,i,s)}}),r.plugin(function(e,n,r,i,s){function g(r){return function(i){t.stop(),i instanceof s&&i.node.childNodes.length==1&&(i.node.firstChild.tagName=="radialGradient"||i.node.firstChild.tagName=="linearGradient"||i.node.firstChild.tagName=="pattern")&&(i=i.node.firstChild,l(this).appendChild(i),i=a(i));if(i instanceof n)if(i.type=="radialGradient"||i.type=="linearGradient"||i.type=="pattern"){i.node.id||h(i.node,{id:i.id});var o=p(i.node.id)}else o=i.attr(r);else{o=e.color(i);if(o.error){var u=e(l(this).ownerSVGElement).gradient(i);u?(u.node.id||h(u.node,{id:u.id}),o=p(u.node.id)):o=i}else o=d(o)}var f={};f[r]=o,h(this.node,f),this.node.style[r]=m}}function b(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function w(e){var t=[],n=e.childNodes;for(var r=0,i=n.length;r<i;r++){var s=n[r];s.nodeType==3&&t.push(s.nodeValue),s.tagName=="tspan"&&(s.childNodes.length==1&&s.firstChild.nodeType==3?t.push(s.firstChild.nodeValue):t.push(w(s)))}return t}function E(){return t.stop(),this.node.style.fontSize}var o="hasOwnProperty",u=e._.make,a=e._.wrap,f=e.is,l=e._.getSomeDefs,c=/^url\(#?([^)]+)\)$/,h=e._.$,p=e.url,d=String,v=e._.separator,m="";t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof s){t.stop(),e instanceof s&&e.node.childNodes.length==1&&(e=e.node.firstChild,l(this).appendChild(e),e=a(e));if(e.type=="mask")var r=e;else r=u("mask",l(this)),r.node.appendChild(e.node);!r.node.id&&h(r.node,{id:r.id}),h(this.node,{mask:p(r.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof n||e instanceof s){t.stop();if(e.type=="clipPath")var r=e;else r=u("clipPath",l(this)),r.node.appendChild(e.node),!r.node.id&&h(r.node,{id:r.id});h(this.node,{"clip-path":p(r.node.id||r.id)})}}),t.on("snap.util.attr.fill",g("fill")),t.on("snap.util.attr.stroke",g("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(t){t=d(t);var n=t.match(y);if(!n)return null;var r=n[1],i=n[2],s=n[3];return i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),i.length==1&&i[0]==0&&(i=[]),s=s.split("-"),s=s.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:r,params:i,stops:s}}),t.on("snap.util.attr.d",function(n){t.stop(),f(n,"array")&&f(n[0],"array")&&(n=e.path.toString.call(n)),n=d(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),h(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=d(e);var n=i.doc.createTextNode(e);while(this.node.firstChild)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;f(e,"object")&&"x"in e?n=[e.x,e.y,e.width,e.height].join(" "):f(e,"array")?n=e.join(" "):n=e,h(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){this.type=="rect"&&(t.stop(),h(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){t.stop();if(this.type=="text"){var r,i,s;if(!e&&this.textPath){i=this.textPath;while(i.node.firstChild)this.node.appendChild(i.node.firstChild);i.remove(),delete this.textPath;return}if(f(e,"string")){var o=l(this),u=a(o.parentNode).path(e);o.appendChild(u.node),r=u.id,u.attr({id:r})}else e=a(e),e instanceof n&&(r=e.attr("id"),r||(r=e.id,e.attr({id:r})));if(r){i=this.textPath,s=this.node;if(i)i.attr({"xlink:href":"#"+r});else{i=h("textPath",{"xlink:href":"#"+r});while(s.firstChild)i.appendChild(s.firstChild);s.appendChild(i),this.textPath=a(i)}}}})(-1),t.on("snap.util.attr.text",function(e){if(this.type=="text"){var n=0,r=this.node,s=function(e){var t=h("tspan");if(f(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(s(e[n]));else t.appendChild(i.doc.createTextNode(e));return t.normalize&&t.normalize(),t};while(r.firstChild)r.removeChild(r.firstChild);var o=s(e);while(o.firstChild)r.appendChild(o.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",b)(-1),t.on("snap.util.attr.font-size",b)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return r=="none"?r:e(i.doc.getElementById(r.match(c)[1]))}}function r(e){return function(n){t.stop();var r="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(n==""||!n){this.node.style[r]="none";return}if(n.type=="marker"){var i=n.node.id;i||h(n.node,{id:n.id}),this.node.style[r]=p(i);return}}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",r("end"))(-1),t.on("snap.util.attr.markerEnd",r("end"))(-1),t.on("snap.util.attr.marker-start",r("start"))(-1),t.on("snap.util.attr.markerStart",r("start"))(-1),t.on("snap.util.attr.marker-mid",r("mid"))(-1),t.on("snap.util.attr.markerMid",r("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){if(this.type=="rect"&&h(this.node,"rx")==h(this.node,"ry"))return t.stop(),h(this.node,"rx")})(-1),t.on("snap.util.getattr.text",function(){if(this.type=="text"||this.type=="tspan"){t.stop();var e=w(this.node);return e.length==1?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=h(this.node,"viewBox");if(n)return n=n.split(v),e._.box(+n[0],+n[1],+n[2],+n[3]);return})(-1),t.on("snap.util.getattr.points",function(){var e=h(this.node,"points");t.stop();if(e)return e.split(v);return})(-1),t.on("snap.util.getattr.path",function(){var e=h(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",E)(-1),t.on("snap.util.getattr.font-size",E)(-1)}),r.plugin(function(e,t,n,r,i){var s=/\S+/g,o=/[\t\r\n\f]/g,u=/(^\s+|\s+$)/g,a=String,f=t.prototype;f.addClass=function(e){var t=a(e||"").match(s)||[],n=this.node,r=n.className.baseVal,i=r.match(s)||[],o,u,f,l;if(t.length){o=0;while(f=t[o++])u=i.indexOf(f),~u||i.push(f);l=i.join(" "),r!=l&&(n.className.baseVal=l)}return this},f.removeClass=function(e){var t=a(e||"").match(s)||[],n=this.node,r=n.className.baseVal,i=r.match(s)||[],o,u,f,l;if(i.length){o=0;while(f=t[o++])u=i.indexOf(f),~u&&i.splice(u,1);l=i.join(" "),r!=l&&(n.className.baseVal=l)}return this},f.hasClass=function(e){var t=this.node,n=t.className.baseVal,r=n.match(s)||[];return!!~r.indexOf(e)},f.toggleClass=function(e,t){if(t!=null)return t?this.addClass(e):this.removeClass(e);var n=(e||"").match(s)||[],r=this.node,i=r.className.baseVal,o=i.match(s)||[],u,a,f,l;u=0;while(f=n[u++])a=o.indexOf(f),~a?o.splice(a,1):o.push(f);return l=o.join(" "),i!=l&&(r.className.baseVal=l),this}}),r.plugin(function(e,n,r,i,s){function l(e){return e}function c(e){return function(t){return+t.toFixed(3)+e}}var o={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},u=String,a=/[a-z]+$/i,f=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;t.on("snap.util.attr",function(e){var n=u(e).match(f);if(n){var r=t.nt(),i=r.substring(r.lastIndexOf(".")+1),s=this.attr(i),l={};t.stop();var c=n[3]||"",h=s.match(a),p=o[n[1]];h&&h==c?e=p(parseFloat(s),+n[2]):(s=this.asPX(i),e=p(this.asPX(i),this.asPX(i,n[2]+c)));if(isNaN(s)||isNaN(e))return;l[i]=e,this.attr(l)}})(-10),t.on("snap.util.equal",function(e,n){var r,i,s=u(this.attr(e)||""),h=this,p=u(n).match(f);if(p){t.stop();var d=p[3]||"",v=s.match(a),m=o[p[1]];return v&&v==d?{from:parseFloat(s),to:m(parseFloat(s),+p[2]),f:c(v)}:(s=this.asPX(e),{from:s,to:m(s,this.asPX(e,p[2]+d)),f:l})}})(-10)}),r.plugin(function(n,r,i,s,o){var u=i.prototype,a=n.is;u.rect=function(e,t,n,r,i,s){var o;return s==null&&(s=i),a(e,"object")&&e=="[object Object]"?o=e:e!=null&&(o={x:e,y:t,width:n,height:r},i!=null&&(o.rx=i,o.ry=s)),this.el("rect",o)},u.circle=function(e,t,n){var r;return a(e,"object")&&e=="[object Object]"?r=e:e!=null&&(r={cx:e,cy:t,r:n}),this.el("circle",r)};var f=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var r=s.doc.createElement("img"),i=s.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=e,i.appendChild(r),r.src=t}}();u.image=function(e,t,r,i,s){var o=this.el("image");if(a(e,"object")&&"src"in e)o.attr(e);else if(e!=null){var u={"xlink:href":e,preserveAspectRatio:"none"};t!=null&&r!=null&&(u.x=t,u.y=r),i!=null&&s!=null?(u.width=i,u.height=s):f(e,function(){n._.$(o.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(o.node,u)}return o},u.ellipse=function(e,t,n,r){var i;return a(e,"object")&&e=="[object Object]"?i=e:e!=null&&(i={cx:e,cy:t,rx:n,ry:r}),this.el("ellipse",i)},u.path=function(e){var t;return a(e,"object")&&!a(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},u.group=u.g=function(e){var t,n=this.el("g");return arguments.length==1&&e&&!e.type?n.attr(e):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},u.svg=function(e,t,n,r,i,s,o,u){var f={};return a(e,"object")&&t==null?f=e:(e!=null&&(f.x=e),t!=null&&(f.y=t),n!=null&&(f.width=n),r!=null&&(f.height=r),i!=null&&s!=null&&o!=null&&u!=null&&(f.viewBox=[i,s,o,u])),this.el("svg",f)},u.mask=function(e){var t,n=this.el("mask");return arguments.length==1&&e&&!e.type?n.attr(e):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},u.ptrn=function(e,t,n,r,i,s,o,u){if(a(e,"object"))var f=e;else f={patternUnits:"userSpaceOnUse"},e&&(f.x=e),t&&(f.y=t),n!=null&&(f.width=n),r!=null&&(f.height=r),i!=null&&s!=null&&o!=null&&u!=null?f.viewBox=[i,s,o,u]:f.viewBox=[e||0,t||0,n||0,r||0];return this.el("pattern",f)},u.use=function(e){return e!=null?(e instanceof r&&(e.attr("id")||e.attr({id:n._.id(e)}),e=e.attr("id")),String(e).charAt()=="#"&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):r.prototype.use.call(this)},u.symbol=function(e,t,n,r){var i={};return e!=null&&t!=null&&n!=null&&r!=null&&(i.viewBox=[e,t,n,r]),this.el("symbol",i)},u.text=function(e,t,n){var r={};return a(e,"object")?r=e:e!=null&&(r={x:e,y:t,text:n||""}),this.el("text",r)},u.line=function(e,t,n,r){var i={};return a(e,"object")?i=e:e!=null&&(i={x1:e,x2:n,y1:t,y2:r}),this.el("line",i)},u.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return a(e,"object")&&!a(e,"array")?t=e:e!=null&&(t={points:e}),this.el("polyline",t)},u.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return a(e,"object")&&!a(e,"array")?t=e:e!=null&&(t={points:e}),this.el("polygon",t)},function(){function i(){return this.selectAll("stop")}function s(e,t){var i=r("stop"),s={offset:+t+"%"};return e=n.color(e),s["stop-color"]=e.hex,e.opacity<1&&(s["stop-opacity"]=e.opacity),r(i,s),this.node.appendChild(i),this}function o(){if(this.type=="linearGradient"){var e=r(this.node,"x1")||0,t=r(this.node,"x2")||1,i=r(this.node,"y1")||0,s=r(this.node,"y2")||0;return n._.box(e,i,math.abs(t-e),math.abs(s-i))}var o=this.node.cx||.5,u=this.node.cy||.5,a=this.node.r||0;return n._.box(o-a,u-a,a*2,a*2)}function a(e,n){function h(e,t){var n=(t-a)/(e-c);for(var r=c;r<e;r++)o[r].offset=+(+a+n*(r-c)).toFixed(2);c=e,a=t}var i=t("snap.util.grad.parse",null,n).firstDefined(),s;if(!i)return null;i.params.unshift(e),i.type.toLowerCase()=="l"?s=f.apply(0,i.params):s=l.apply(0,i.params),i.type!=i.type.toLowerCase()&&r(s.node,{gradientUnits:"userSpaceOnUse"});var o=i.stops,u=o.length,a=0,c=0;u--;for(var p=0;p<u;p++)"offset"in o[p]&&h(p,o[p].offset);o[u].offset=o[u].offset||100,h(u,o[u].offset);for(p=0;p<=u;p++){var d=o[p];s.addStop(d.color,d.offset)}return s}function f(e,t,u,a,f){var l=n._.make("linearGradient",e);return l.stops=i,l.addStop=s,l.getBBox=o,t!=null&&r(l.node,{x1:t,y1:u,x2:a,y2:f}),l}function l(e,t,u,a,f,l){var c=n._.make("radialGradient",e);return c.stops=i,c.addStop=s,c.getBBox=o,t!=null&&r(c.node,{cx:t,cy:u,r:a}),f!=null&&l!=null&&r(c.node,{fx:f,fy:l}),c}var r=n._.$;u.gradient=function(e){return a(this.defs,e)},u.gradientLinear=function(e,t,n,r){return f(this.defs,e,t,n,r)},u.gradientRadial=function(e,t,n,r,i){return l(this.defs,e,t,n,r,i)},u.toString=function(){var e=this.node.ownerDocument,t=e.createDocumentFragment(),r=e.createElement("div"),i=this.node.cloneNode(!0),s;return t.appendChild(r),r.appendChild(i),n._.$(i,{xmlns:"http://www.w3.org/2000/svg"}),s=r.innerHTML,t.removeChild(t.firstChild),s},u.toDataURL=function(){if(e&&e.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},u.clear=function(){var e=this.node.firstChild,t;while(e)t=e.nextSibling,e.tagName!="defs"?e.parentNode.removeChild(e):u.clear.call({node:e}),e=t}}()}),r.plugin(function(e,t,n,r){function m(e){var t=m.ps=m.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[u](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function g(e,t,n,r){return e==null&&(e=t=n=r=0),t==null&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:l.min(n,r)/2,r2:l.max(n,r)/2,r0:l.sqrt(n*n+r*r)/2,path:R(e,t,n,r),vb:[e,t,n,r].join(" ")}}function y(){return this.join(",").replace(a,"$1")}function b(e){var t=o(e);return t.toString=y,t}function w(e,t,n,r,i,s,o,u,a){return a==null?O(e,t,n,r,i,s,o,u):N(e,t,n,r,i,s,o,u,M(e,t,n,r,i,s,o,u,a))}function E(n,r){function i(e){return+(+e).toFixed(3)}return e._.cacher(function(e,s,o){e instanceof t&&(e=e.attr("d")),e=Y(e);var u,a,f,l,c="",h={},p,d=0;for(var v=0,m=e.length;v<m;v++){f=e[v];if(f[0]=="M")u=+f[1],a=+f[2];else{l=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6]);if(d+l>s){if(r&&!h.start){p=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6],s-d),c+=["C"+i(p.start.x),i(p.start.y),i(p.m.x),i(p.m.y),i(p.x),i(p.y)];if(o)return c;h.start=c,c=["M"+i(p.x),i(p.y)+"C"+i(p.n.x),i(p.n.y),i(p.end.x),i(p.end.y),i(f[5]),i(f[6])].join(),d+=l,u=+f[5],a=+f[6];continue}if(!n&&!r)return p=w(u,a,f[1],f[2],f[3],f[4],f[5],f[6],s-d),p}d+=l,u=+f[5],a=+f[6]}c+=f.shift()+f}return h.end=c,p=n?d:r?h:N(u,a,f[0],f[1],f[2],f[3],f[4],f[5],1),p},null,e._.clone)}function N(e,t,n,r,i,s,o,u,a){var f=1-a,h=d(f,3),p=d(f,2),v=a*a,m=v*a,g=h*e+p*3*a*n+f*3*a*a*i+m*o,y=h*t+p*3*a*r+f*3*a*a*s+m*u,b=e+2*a*(n-e)+v*(i-2*n+e),w=t+2*a*(r-t)+v*(s-2*r+t),E=n+2*a*(i-n)+v*(o-2*i+n),S=r+2*a*(s-r)+v*(u-2*s+r),x=f*e+a*n,T=f*t+a*r,N=f*i+a*o,C=f*s+a*u,k=90-l.atan2(b-E,w-S)*180/c;return{x:g,y:y,m:{x:b,y:w},n:{x:E,y:S},start:{x:x,y:T},end:{x:N,y:C},alpha:k}}function C(t,n,r,i,s,o,u,a){e.is(t,"array")||(t=[t,n,r,i,s,o,u,a]);var f=G.apply(null,t);return g(f.min.x,f.min.y,f.max.x-f.min.x,f.max.y-f.min.y)}function k(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function L(e,t){return e=g(e),t=g(t),k(t,e.x,e.y)||k(t,e.x2,e.y)||k(t,e.x,e.y2)||k(t,e.x2,e.y2)||k(e,t.x,t.y)||k(e,t.x2,t.y)||k(e,t.x,t.y2)||k(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function A(e,t,n,r,i){var s=-3*t+9*n-9*r+3*i,o=e*s+6*t-12*n+6*r;return e*o-3*t+3*n}function O(e,t,n,r,i,s,o,u,a){a==null&&(a=1),a=a>1?1:a<0?0:a;var f=a/2,c=12,h=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;for(var v=0;v<c;v++){var m=f*h[v]+f,g=A(m,e,n,i,o),y=A(m,t,r,s,u),b=g*g+y*y;d+=p[v]*l.sqrt(b)}return f*d}function M(e,t,n,r,i,s,o,u,a){if(a<0||O(e,t,n,r,i,s,o,u)<a)return;var f=1,l=f/2,c=f-l,h,p=.01;h=O(e,t,n,r,i,s,o,u,c);while(v(h-a)>p)l/=2,c+=(h<a?1:-1)*l,h=O(e,t,n,r,i,s,o,u,c);return c}function _(e,t,n,r,i,s,o,u){if(p(e,n)<h(i,o)||h(e,n)>p(i,o)||p(t,r)<h(s,u)||h(t,r)>p(s,u))return;var a=(e*r-t*n)*(i-o)-(e-n)*(i*u-s*o),f=(e*r-t*n)*(s-u)-(t-r)*(i*u-s*o),l=(e-n)*(s-u)-(t-r)*(i-o);if(!l)return;var c=a/l,d=f/l,v=+c.toFixed(2),m=+d.toFixed(2);if(v<+h(e,n).toFixed(2)||v>+p(e,n).toFixed(2)||v<+h(i,o).toFixed(2)||v>+p(i,o).toFixed(2)||m<+h(t,r).toFixed(2)||m>+p(t,r).toFixed(2)||m<+h(s,u).toFixed(2)||m>+p(s,u).toFixed(2))return;return{x:c,y:d}}function D(e,t){return H(e,t)}function P(e,t){return H(e,t,1)}function H(e,t,n){var r=C(e),i=C(t);if(!L(r,i))return n?0:[];var s=O.apply(0,e),o=O.apply(0,t),u=~~(s/8),a=~~(o/8),f=[],l=[],c={},h=n?0:[];for(var p=0;p<u+1;p++){var d=N.apply(0,e.concat(p/u));f.push({x:d.x,y:d.y,t:p/u})}for(p=0;p<a+1;p++)d=N.apply(0,t.concat(p/a)),l.push({x:d.x,y:d.y,t:p/a});for(p=0;p<u;p++)for(var m=0;m<a;m++){var g=f[p],y=f[p+1],b=l[m],w=l[m+1],E=v(y.x-g.x)<.001?"y":"x",S=v(w.x-b.x)<.001?"y":"x",x=_(g.x,g.y,y.x,y.y,b.x,b.y,w.x,w.y);if(x){if(c[x.x.toFixed(4)]==x.y.toFixed(4))continue;c[x.x.toFixed(4)]=x.y.toFixed(4);var T=g.t+v((x[E]-g[E])/(y[E]-g[E]))*(y.t-g.t),k=b.t+v((x[S]-b[S])/(w[S]-b[S]))*(w.t-b.t);T>=0&&T<=1&&k>=0&&k<=1&&(n?h++:h.push({x:x.x,y:x.y,t1:T,t2:k}))}}return h}function B(e,t){return F(e,t)}function j(e,t){return F(e,t,1)}function F(e,t,n){e=Y(e),t=Y(t);var r,i,s,o,u,a,f,l,c,h,p=n?0:[];for(var d=0,v=e.length;d<v;d++){var m=e[d];if(m[0]=="M")r=u=m[1],i=a=m[2];else{m[0]=="C"?(c=[r,i].concat(m.slice(1)),r=c[6],i=c[7]):(c=[r,i,r,i,u,a,u,a],r=u,i=a);for(var g=0,y=t.length;g<y;g++){var b=t[g];if(b[0]=="M")s=f=b[1],o=l=b[2];else{b[0]=="C"?(h=[s,o].concat(b.slice(1)),s=h[6],o=h[7]):(h=[s,o,s,o,f,l,f,l],s=f,o=l);var w=H(c,h,n);if(n)p+=w;else{for(var E=0,S=w.length;E<S;E++)w[E].segment1=d,w[E].segment2=g,w[E].bez1=c,w[E].bez2=h;p=p.concat(w)}}}}}return p}function I(e,t,n){var r=q(e);return k(r,t,n)&&F(e,[["M",t,n],["H",r.x2+10]],1)%2==1}function q(e){var t=m(e);if(t.bbox)return o(t.bbox);if(!e)return g();e=Y(e);var n=0,r=0,i=[],s=[],u;for(var a=0,f=e.length;a<f;a++){u=e[a];if(u[0]=="M")n=u[1],r=u[2],i.push(n),s.push(r);else{var l=G(n,r,u[1],u[2],u[3],u[4],u[5],u[6]);i=i.concat(l.min.x,l.max.x),s=s.concat(l.min.y,l.max.y),n=u[5],r=u[6]}}var c=h.apply(0,i),d=h.apply(0,s),v=p.apply(0,i),y=p.apply(0,s),b=g(c,d,v-c,y-d);return t.bbox=o(b),b}function R(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]];var s=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return s.toString=y,s}function U(e,t,n,r,i){i==null&&r==null&&(r=n),e=+e,t=+t,n=+n,r=+r;if(i!=null)var s=Math.PI/180,o=e+n*Math.cos(-r*s),u=e+n*Math.cos(-i*s),a=t+n*Math.sin(-r*s),f=t+n*Math.sin(-i*s),l=[["M",o,a],["A",n,n,0,+(i-r>180),0,u,f]];else l=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return l.toString=y,l}function X(t){var n=m(t),r=String.prototype.toLowerCase;if(n.rel)return b(n.rel);if(!e.is(t,"array")||!e.is(t&&t[0],"array"))t=e.parsePathString(t);var i=[],s=0,o=0,u=0,a=0,f=0;t[0][0]=="M"&&(s=t[0][1],o=t[0][2],u=s,a=o,f++,i.push(["M",s,o]));for(var l=f,c=t.length;l<c;l++){var h=i[l]=[],p=t[l];if(p[0]!=r.call(p[0])){h[0]=r.call(p[0]);switch(h[0]){case"a":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+(p[6]-s).toFixed(3),h[7]=+(p[7]-o).toFixed(3);break;case"v":h[1]=+(p[1]-o).toFixed(3);break;case"m":u=p[1],a=p[2];default:for(var d=1,v=p.length;d<v;d++)h[d]=+(p[d]-(d%2?s:o)).toFixed(3)}}else{h=i[l]=[],p[0]=="m"&&(u=p[1]+s,a=p[2]+o);for(var g=0,w=p.length;g<w;g++)i[l][g]=p[g]}var E=i[l].length;switch(i[l][0]){case"z":s=u,o=a;break;case"h":s+=+i[l][E-1];break;case"v":o+=+i[l][E-1];break;default:s+=+i[l][E-2],o+=+i[l][E-1]}}return i.toString=y,n.rel=b(i),i}function V(t){var n=m(t);if(n.abs)return b(n.abs);if(!s(t,"array")||!s(t&&t[0],"array"))t=e.parsePathString(t);if(!t||!t.length)return[["M",0,0]];var r=[],i=0,o=0,u=0,a=0,f=0,l;t[0][0]=="M"&&(i=+t[0][1],o=+t[0][2],u=i,a=o,f++,r[0]=["M",i,o]);var c=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z";for(var h,p,d=f,v=t.length;d<v;d++){r.push(h=[]),p=t[d],l=p[0];if(l!=l.toUpperCase()){h[0]=l.toUpperCase();switch(h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+i,h[7]=+p[7]+o;break;case"V":h[1]=+p[1]+o;break;case"H":h[1]=+p[1]+i;break;case"R":var g=[i,o].concat(p.slice(1));for(var w=2,E=g.length;w<E;w++)g[w]=+g[w]+i,g[++w]=+g[w]+o;r.pop(),r=r.concat(et(g,c));break;case"O":r.pop(),g=U(i,o,p[1],p[2]),g.push(g[0]),r=r.concat(g);break;case"U":r.pop(),r=r.concat(U(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":u=+p[1]+i,a=+p[2]+o;default:for(w=1,E=p.length;w<E;w++)h[w]=+p[w]+(w%2?i:o)}}else if(l=="R")g=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(et(g,c)),h=["R"].concat(p.slice(-2));else if(l=="O")r.pop(),g=U(i,o,p[1],p[2]),g.push(g[0]),r=r.concat(g);else if(l=="U")r.pop(),r=r.concat(U(i,o,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var S=0,x=p.length;S<x;S++)h[S]=p[S];l=l.toUpperCase();if(l!="O")switch(h[0]){case"Z":i=+u,o=+a;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":u=h[h.length-2],a=h[h.length-1];default:i=h[h.length-2],o=h[h.length-1]}}return r.toString=y,n.abs=b(r),r}function $(e,t,n,r){return[e,t,n,r,n,r]}function J(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]}function K(t,n,r,i,s,o,u,a,f,h){var p=c*120/180,d=c/180*(+s||0),m=[],g,y=e._.cacher(function(e,t,n){var r=e*l.cos(n)-t*l.sin(n),i=e*l.sin(n)+t*l.cos(n);return{x:r,y:i}});if(!h){g=y(t,n,-d),t=g.x,n=g.y,g=y(a,f,-d),a=g.x,f=g.y;var b=l.cos(c/180*s),w=l.sin(c/180*s),E=(t-a)/2,S=(n-f)/2,x=E*E/(r*r)+S*S/(i*i);x>1&&(x=l.sqrt(x),r=x*r,i=x*i);var T=r*r,N=i*i,C=(o==u?-1:1)*l.sqrt(v((T*N-T*S*S-N*E*E)/(T*S*S+N*E*E))),k=C*r*S/i+(t+a)/2,L=C*-i*E/r+(n+f)/2,A=l.asin(((n-L)/i).toFixed(9)),O=l.asin(((f-L)/i).toFixed(9));A=t<k?c-A:A,O=a<k?c-O:O,A<0&&(A=c*2+A),O<0&&(O=c*2+O),u&&A>O&&(A-=c*2),!u&&O>A&&(O-=c*2)}else A=h[0],O=h[1],k=h[2],L=h[3];var M=O-A;if(v(M)>p){var _=O,D=a,P=f;O=A+p*(u&&O>A?1:-1),a=k+r*l.cos(O),f=L+i*l.sin(O),m=K(a,f,r,i,s,0,u,D,P,[O,_,k,L])}M=O-A;var H=l.cos(A),B=l.sin(A),j=l.cos(O),F=l.sin(O),I=l.tan(M/4),q=4/3*r*I,R=4/3*i*I,U=[t,n],z=[t+q*B,n-R*H],W=[a+q*F,f-R*j],X=[a,f];z[0]=2*U[0]-z[0],z[1]=2*U[1]-z[1];if(h)return[z,W,X].concat(m);m=[z,W,X].concat(m).join().split(",");var V=[];for(var $=0,J=m.length;$<J;$++)V[$]=$%2?y(m[$-1],m[$],d).y:y(m[$],m[$+1],d).x;return V}function Q(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:d(f,3)*e+d(f,2)*3*a*n+f*3*a*a*i+d(a,3)*o,y:d(f,3)*t+d(f,2)*3*a*r+f*3*a*a*s+d(a,3)*u}}function G(e,t,n,r,i,s,o,u){var a=[],f=[[],[]],c,d,m,g,y,b,w,E;for(var S=0;S<2;++S){S==0?(d=6*e-12*n+6*i,c=-3*e+9*n-9*i+3*o,m=3*n-3*e):(d=6*t-12*r+6*s,c=-3*t+9*r-9*s+3*u,m=3*r-3*t);if(v(c)<1e-12){if(v(d)<1e-12)continue;g=-m/d,0<g&&g<1&&a.push(g);continue}w=d*d-4*m*c,E=l.sqrt(w);if(w<0)continue;y=(-d+E)/(2*c),0<y&&y<1&&a.push(y),b=(-d-E)/(2*c),0<b&&b<1&&a.push(b)}var x,T,N=a.length,C=N,k;while(N--)g=a[N],k=1-g,f[0][N]=k*k*k*e+3*k*k*g*n+3*k*g*g*i+g*g*g*o,f[1][N]=k*k*k*t+3*k*k*g*r+3*k*g*g*s+g*g*g*u;return f[0][C]=e,f[1][C]=t,f[0][C+1]=o,f[1][C+1]=u,f[0].length=f[1].length=C+2,{min:{x:h.apply(0,f[0]),y:h.apply(0,f[1])},max:{x:p.apply(0,f[0]),y:p.apply(0,f[1])}}}function Y(e,t){var n=!t&&m(e);if(!t&&n.curve)return b(n.curve);var r=V(e),i=t&&V(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(K.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":n=="C"||n=="S"?(r=t.x*2-t.bx,i=t.y*2-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":n=="Q"||n=="T"?(t.qx=t.x*2-t.qx,t.qy=t.y*2-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(J(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(J(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat($(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat($(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat($(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat($(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length)c[t]="A",i&&(h[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),y=p(r.length,i&&i.length||0)}},l=function(e,t,n,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],y=p(r.length,i&&i.length||0))},c=[],h=[],d="",v="";for(var g=0,y=p(r.length,i&&i.length||0);g<y;g++){r[g]&&(d=r[g][0]),d!="C"&&(c[g]=d,g&&(v=c[g-1])),r[g]=u(r[g],s,v),c[g]!="A"&&d=="C"&&(c[g]="C"),a(r,g),i&&(i[g]&&(d=i[g][0]),d!="C"&&(h[g]=d,g&&(v=h[g-1])),i[g]=u(i[g],o,v),h[g]!="A"&&d=="C"&&(h[g]="C"),a(i,g)),l(r,i,s,o,g),l(i,r,o,s,g);var w=r[g],E=i&&i[g],S=w.length,x=i&&E.length;s.x=w[S-2],s.y=w[S-1],s.bx=f(w[S-4])||s.x,s.by=f(w[S-3])||s.y,o.bx=i&&(f(E[x-4])||o.x),o.by=i&&(f(E[x-3])||o.y),o.x=i&&E[x-2],o.y=i&&E[x-1]}return i||(n.curve=b(r)),i?[r,i]:r}function Z(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=Y(e);for(i=0,o=e.length;i<o;i++){a=e[i];for(s=1,u=a.length;s<u;s+=2)n=t.x(a[s],a[s+1]),r=t.y(a[s],a[s+1]),a[s]=n,a[s+1]=r}return e}function et(e,t){var n=[];for(var r=0,i=e.length;i-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?s[3]={x:+e[0],y:+e[1]}:i-2==r&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}var i=t.prototype,s=e.is,o=e._.clone,u="hasOwnProperty",a=/,?([a-z]),?/gi,f=parseFloat,l=Math,c=l.PI,h=l.min,p=l.max,d=l.pow,v=l.abs,S=E(1),x=E(),T=E(0,1),z=e._unit2px,W={path:function(e){return e.attr("path")},circle:function(e){var t=z(e);return U(t.cx,t.cy,t.r)},ellipse:function(e){var t=z(e);return U(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=z(e);return R(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=z(e);return R(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return R(t.x,t.y,t.width,t.height)}};e.path=m,e.path.getTotalLength=S,e.path.getPointAtLength=x,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return T(e,t).end;var r=T(e,n,1);return t?T(r,t).end:r},i.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},i.getPointAtLength=function(e){return x(this.attr("d"),e)},i.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=g,e.path.findDotsAtSegment=N,e.path.bezierBBox=C,e.path.isPointInsideBBox=k,e.closest=function(t,n,r,i){var s=100,o=g(t-s/2,n-s/2,s,s),u=[],a=r[0].hasOwnProperty("x")?function(e){return{x:r[e].x,y:r[e].y}}:function(e){return{x:r[e],y:i[e]}},f=0;while(s<=1e6&&!f){for(var l=0,c=r.length;l<c;l++){var h=a(l);if(k(o,h.x,h.y)){f++,u.push(h);break}}f||(s*=2,o=g(t-s/2,n-s/2,s,s))}if(s==1e6)return;var p=Infinity,d;for(l=0,c=u.length;l<c;l++){var v=e.len(t,n,u[l].x,u[l].y);p>v&&(p=v,u[l].len=v,d=u[l])}return d},e.path.isBBoxIntersect=L,e.path.intersection=B,e.path.intersectionNumber=j,e.path.isPointInside=I,e.path.getBBox=q,e.path.get=W,e.path.toRelative=X,e.path.toAbsolute=V,e.path.toCubic=Y,e.path.map=Z,e.path.toString=y,e.path.clone=b}),r.plugin(function(e,r,i,s){var o=Math.max,u=Math.min,a=function(e){this.items=[],this.bindings={},this.length=0,this.type="set";if(e)for(var t=0,n=e.length;t<n;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},f=a.prototype;f.push=function(){var e,t;for(var n=0,r=arguments.length;n<r;n++)e=arguments[n],e&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},f.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},f.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(e.call(t,this.items[n],n)===!1)return this;return this},f.animate=function(r,i,s,o){typeof s=="function"&&!s.length&&(o=s,s=n.linear),r instanceof e._.Animation&&(o=r.callback,s=r.easing,i=s.dur,r=r.attr);var u=arguments;if(e.is(r,"array")&&e.is(u[u.length-1],"array"))var a=!0;var f,l=function(){f?this.b=f:f=this.b},c=0,h=this,p=o&&function(){++c==h.length&&o.call(this)};return this.forEach(function(e,n){t.once("snap.animcreated."+e.id,l),a?u[n]&&e.animate.apply(e,u[n]):e.animate(r,i,s,p)})},f.remove=function(){while(this.length)this.pop().remove();return this},f.bind=function(e,t,n){var r={};if(typeof t=="function")this.bindings[e]=t;else{var i=n||e;this.bindings[e]=function(e){r[i]=e,t.attr(r)}}return this},f.attr=function(e){var t={};for(var n in e)this.bindings[n]?this.bindings[n](e[n]):t[n]=e[n];for(var r=0,i=this.items.length;r<i;r++)this.items[r].attr(t);return this},f.clear=function(){while(this.length)this.pop()},f.splice=function(e,t,n){e=e<0?o(this.length+e,0):e,t=o(0,u(this.length-e,t));var r=[],i=[],s=[],f;for(f=2;f<arguments.length;f++)s.push(arguments[f]);for(f=0;f<t;f++)i.push(this[e+f]);for(;f<this.length-e;f++)r.push(this[e+f]);var l=s.length;for(f=0;f<l+r.length;f++)this.items[e+f]=this[e+f]=f<l?s[f]:r[f-l];f=this.items.length=this.length-=t-l;while(this[f])delete this[f++];return new a(i)},f.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},f.insertAfter=function(e){var t=this.items.length;while(t--)this.items[t].insertAfter(e);return this},f.getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items.length;i--;)if(!this.items[i].removed){var s=this.items[i].getBBox();e.push(s.x),t.push(s.y),n.push(s.x+s.width),r.push(s.y+s.height)}return e=u.apply(0,e),t=u.apply(0,t),n=o.apply(0,n),r=o.apply(0,r),{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t,cx:e+(n-e)/2,cy:t+(r-t)/2}},f.clone=function(e){e=new a;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},f.toString=function(){return"Snap‘s set"},f.type="set",e.Set=a,e.set=function(){var e=new a;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),r.plugin(function(e,n,r,i){function a(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}}function f(t,n,r){n=u(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];var i=Math.max(t.length,n.length),s=[],o=[],f=0,l,c,h,p;for(;f<i;f++){h=t[f]||a(n[f]),p=n[f]||a(h);if(h[0]!=p[0]||h[0].toLowerCase()=="r"&&(h[2]!=p[2]||h[3]!=p[3])||h[0].toLowerCase()=="s"&&(h[3]!=p[3]||h[4]!=p[4])){t=e._.transform2matrix(t,r()),n=e._.transform2matrix(n,r()),s=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],o=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}s[f]=[],o[f]=[];for(l=0,c=Math.max(h.length,p.length);l<c;l++)l in h&&(s[f][l]=h[l]),l in p&&(o[f][l]=p[l])}return{from:v(s),to:v(o),f:d(s)}}function l(e){return e}function c(e){return function(t){return+t.toFixed(3)+e}}function h(e){return e.join(" ")}function p(t){return e.rgb(t[0],t[1],t[2])}function d(e){var t=0,n,r,i,s,o,u,a=[];for(n=0,r=e.length;n<r;n++){o="[",u=['"'+e[n][0]+'"'];for(i=1,s=e[n].length;i<s;i++)u[i]="val["+t++ +"]";o+=u+"]",a[n]=o}return Function("val","return Snap.path.toString.call(["+a+"])")}function v(e){var t=[];for(var n=0,r=e.length;n<r;n++)for(var i=1,s=e[n].length;i<s;i++)t.push(e[n][i]);return t}function m(e){return isFinite(parseFloat(e))}function g(t,n){return!e.is(t,"array")||!e.is(n,"array")?!1:t.toString()==n.toString()}var s={},o=/[a-z]+$/i,u=String;s.stroke=s.fill="colour",n.prototype.equal=function(e,n){return t("snap.util.equal",this,e,n).firstDefined()},t.on("snap.util.equal",function(t,n){var r,i,a=u(this.attr(t)||""),y=this;if(m(a)&&m(n))return{from:parseFloat(a),to:parseFloat(n),f:l};if(s[t]=="colour")return r=e.color(a),i=e.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[i.r,i.g,i.b,i.opacity],f:p};if(t=="viewBox")return r=this.attr(t).vb.split(" ").map(Number),i=n.split(" ").map(Number),{from:r,to:i,f:h};if(t=="transform"||t=="gradientTransform"||t=="patternTransform")return n instanceof e.Matrix&&(n=n.toTransformString()),e._.rgTransform.test(n)||(n=e._.svgTransform2string(n)),f(a,n,function(){return y.getBBox(1)});if(t=="d"||t=="path")return r=e.path.toCubic(a,n),{from:v(r[0]),to:v(r[1]),f:d(r[0])};if(t=="points")return r=u(a).split(e._.separator),i=u(n).split(e._.separator),{from:r,to:i,f:function(e){return e}};var b=a.match(o),w=u(n).match(o);return b&&g(b,w)?{from:parseFloat(a),to:parseFloat(n),f:c(b)}:{from:this.asPX(t),to:this.asPX(t,n),f:l}})}),r.plugin(function(e,n,r,i){var s=n.prototype,o="hasOwnProperty",u="createTouch"in i.doc,a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],f={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(e,t){var n=e=="y"?"scrollTop":"scrollLeft",r=t&&t.node?t.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},c=function(){this.returnValue=!1},h=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},d=function(){return this.originalEvent.stopPropagation()},v=function(e,t,n,r){var i=u&&f[t]?f[t]:t,s=function(i){var s=l("y",r),a=l("x",r);if(u&&f[o](t))for(var c=0,p=i.targetTouches&&i.targetTouches.length;c<p;c++)if(i.targetTouches[c].target==e||e.contains(i.targetTouches[c].target)){var v=i;i=i.targetTouches[c],i.originalEvent=v,i.preventDefault=h,i.stopPropagation=d;break}var m=i.clientX+a,g=i.clientY+s;return n.call(r,i,m,g)};return t!==i&&e.addEventListener(t,s,!1),e.addEventListener(i,s,!1),function(){return t!==i&&e.removeEventListener(t,s,!1),e.removeEventListener(i,s,!1),!0}},m=[],g=function(e){var n=e.clientX,r=e.clientY,i=l("y"),s=l("x"),o,a=m.length;while(a--){o=m[a];if(u){var f=e.touches&&e.touches.length,c;while(f--){c=e.touches[f];if(c.identifier==o.el._drag.id||o.el.node.contains(c.target)){n=c.clientX,r=c.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var h=o.el.node,p,d=h.nextSibling,v=h.parentNode,g=h.style.display;n+=s,r+=i,t("snap.drag.move."+o.el.id,o.move_scope||o.el,n-o.el._drag.x,r-o.el._drag.y,n,r,e)}},y=function(n){e.unmousemove(g).unmouseup(y);var r=m.length,i;while(r--)i=m[r],i.el._drag={},t("snap.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n),t.off("snap.drag.*."+i.el.id);m=[]};for(var b=a.length;b--;)(function(t){e[t]=s[t]=function(n,r){if(e.is(n,"function"))this.events=this.events||[],this.events.push({name:t,f:n,unbind:v(this.node||document,t,n,r||this)});else for(var i=0,s=this.events.length;i<s;i++)if(this.events[i].name==t)try{this.events[i].f.call(this)}catch(o){}return this},e["un"+t]=s["un"+t]=function(e){var n=this.events||[],r=n.length;while(r--)if(n[r].name==t&&(n[r].f==e||!e))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(a[b]);s.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},s.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var w=[];s.drag=function(n,r,i,s,o,u){function l(f,l,c){(f.originalEvent||f).preventDefault(),a._drag.x=l,a._drag.y=c,a._drag.id=f.identifier,!m.length&&e.mousemove(g).mouseup(y),m.push({el:a,move_scope:s,start_scope:o,end_scope:u}),r&&t.on("snap.drag.start."+a.id,r),n&&t.on("snap.drag.move."+a.id,n),i&&t.on("snap.drag.end."+a.id,i),t("snap.drag.start."+a.id,o||s||a,l,c,f)}function c(e,n,r){t("snap.draginit."+a.id,a,e,n,r)}var a=this;if(!arguments.length){var f;return a.drag(function(e,t){this.attr({transform:f+(f?"T":"t")+[e,t]})},function(){f=this.transform().local})}return t.on("snap.draginit."+a.id,l),a._drag={},w.push({el:a,start:l,init:c}),a.mousedown(c),a},s.undrag=function(){var n=w.length;while(n--)w[n].el==this&&(this.unmousedown(w[n].init),w.splice(n,1),t.unbind("snap.drag.*."+this.id),t.unbind("snap.draginit."+this.id));return!w.length&&e.unmousemove(g).unmouseup(y),this}}),r.plugin(function(e,n,r,i){var s=n.prototype,o=r.prototype,u=/^\s*url\((.+)\)/,a=String,f=e._.$;e.filter={},o.filter=function(t){var r=this;r.type!="svg"&&(r=r.paper);var i=e.parse(a(t)),s=e._.id(),o=r.node.offsetWidth,u=r.node.offsetHeight,l=f("filter");return f(l,{id:s,filterUnits:"userSpaceOnUse"}),l.appendChild(i.node),r.defs.appendChild(l),new n(l)},t.on("snap.util.getattr.filter",function(){t.stop();var n=f(this.node,"filter");if(n){var r=a(n).match(u);return r&&e.select(r[1])}}),t.on("snap.util.attr.filter",function(r){if(r instanceof n&&r.type=="filter"){t.stop();var i=r.node.id;i||(f(r.node,{id:r.id}),i=r.id),f(this.node,{filter:e.url(i)})}if(!r||r=="none")t.stop(),this.node.removeAttribute("filter")}),e.filter.blur=function(t,n){t==null&&(t=2);var r=n==null?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,r,i,s){return typeof r=="string"&&(i=r,s=i,r=4),typeof i!="string"&&(s=i,i="#000"),i=i||"#000",r==null&&(r=4),s==null&&(s=1),t==null&&(t=0,n=2),n==null&&(n=t),i=e.color(i),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:t,dy:n,blur:r,opacity:s})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return t==null&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return t==null&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),r.plugin(function(e,t,n,r,i){var s=e._.box,o=e.is,u=/^[^a-z]*([tbmlrc])/i,a=function(){return"T"+this.dx+","+this.dy};t.prototype.getAlign=function(e,t){t==null&&o(e,"string")&&(t=e,e=null),e=e||this.paper;var n=e.getBBox?e.getBBox():s(e),r=this.getBBox(),i={};t=t&&t.match(u),t=t?t[1].toLowerCase():"c";switch(t){case"t":i.dx=0,i.dy=n.y-r.y;break;case"b":i.dx=0,i.dy=n.y2-r.y2;break;case"m":i.dx=0,i.dy=n.cy-r.cy;break;case"l":i.dx=n.x-r.x,i.dy=0;break;case"r":i.dx=n.x2-r.x2,i.dy=0;break;default:i.dx=n.cx-r.cx,i.dy=0}return i.toString=a,i},t.prototype.align=function(e,t){return this.transform("..."+this.getAlign(e,t))}}),r}),define("app/component",["require","app/resourceManager","app/movieclip","snap"],function(e){var t,n=e("app/resourceManager"),r=e("app/movieclip");return e("snap"),t=function(e,t,i,s){function f(t){var n,i;o.rootAnimator!==undefined&&o.rootAnimator.dispose(),n=o.resourceManager.m_data.DOMDocument.Timeline.length-1,i=o.resourceManager.m_data.DOMDocument.Timeline[n],o.movieclip=new r(o.s,i,o.resourceManager,e)}function l(){o.movieclip.play(o.resourceManager),o.playing&&(clearTimeout(a),a=setTimeout(l,1e3/fps)),o.debug&&h()}function c(e){e.keyCode==39&&l()}function h(){function n(e,r){var i,s;for(s=0;s<r.children.length;s+=1){for(i=0;i<e;i+=1)t+="-";t+=r.children[s].id+":"+r.children[s].children.length,r.children[s].isMask&&(t+=" (MASK till:"+r.children[s].maskTill+")"),r.children[s].isMasked&&(t+=" (masked by: "+r.children[s].mask+")"),t+="<br/>",n(e+5,r.children[s])}}var e=document.getElementById("debug"),t="";e||(e=document.createElement("div"),e.id="debug",e.style.position="absolute",e.style.top="0",e.style.right="0",e.style.backgroundColor="black",e.style.color="white",e.style.padding="1em",document.body.appendChild(e)),t+=o.movieclip.id+"<br/>",n(2,o.movieclip),e.innerHTML=t}function p(){}var o=this,u,a;o.debug=!1,o.resourceManager=new n(t),o.s=new Snap(i,s),o.s.attr("id",e),f(o.s),o.debug&&window.addEventListener("keydown",c),this.play=function(){o.playing=!0,a===undefined&&(a=setTimeout(l,1e3/fps))},this.pause=function(){o.playing=!1,a!==undefined&&(clearTimeout(a),a=undefined)},this.stop=function(){this.pause(),p()},this.setLoop=function(e){o.movieclip.loops=e}},t}),define("app",["require","app/component"],function(e){var t,n=e("app/component");return t=function(){function r(r){var i=new XMLHttpRequest;i.open("GET",r,!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){i.readyState==4&&i.status==200&&(e=JSON.parse(i.responseText),t=new n(jsonfile.replace(".json",""),e,width,height),ready(t))},i.send()}var e,t;jsonfile&&r(jsonfile)},new t}),require.config({shim:{},paths:{tweenlite:"vendor/greensock/TweenLite",timelinelite:"vendor/greensock/TimelineLite",tweenmax:"vendor/greensock/TweenMax",timelinemax:"vendor/greensock/TimelineMax",snapplugin:"vendor/greensock/plugins/SnapPlugin",snap:"vendor/snap.svg/dist/snap.svg"}}),require(["app"]),define("main",function(){});